<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Steamauto Config File Generator (Beta)</title>
    <!-- Include Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Include JSON5 library -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/json5/2.2.3/index.min.js"></script> -->
    <style>
        body {
            font-family: "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .logo {
            height: 50px;
            margin-right: 10px;
        }

        .container {
            flex: 1 0 auto;
            padding-bottom: 0.1rem;
        }

        .footer {
            flex-shrink: 0;
            margin-top: auto;
            background-color: #343a40;
            color: white;
        }

        .footer a {
            color: #ffffff;
            transition: color 0.3s ease;
            text-decoration: none;
        }

        .footer a:hover {
            color: #17a2b8;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="https://github.com/Steamauto/Steamauto" target="_blank">
                <img src="https://camo.githubusercontent.com/62564b6ae17c50f60303e79d606094dda9e3cab1df9243f091c8756b98ebbb8a/68747470733a2f2f736f6369616c6966792e6769742e63692f6a69616a696178642f537465616d6175746f2f696d6167653f6465736372697074696f6e3d31266c616e67756167653d31266e616d653d31266f776e65723d31267468656d653d4c69676874"
                    alt="Steamauto Logo" class="logo">
                Steamauto Config File Generator (Beta)
            </a>
        </div>
    </nav>

    <!-- Main content -->
    <div class="container mt-5">
        <!-- General settings -->
        <h2>General Settings</h2>
        <div class="mb-3">
            <label class="form-label">Enable SSL verification when logging into Steam</label>
            <select class="form-select" id="steam_login_ignore_ssl_error">
                <option value="false" selected>Yes</option>
                <option value="true">No</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Enable local acceleration</label>
            <select class="form-select" id="steam_local_accelerate">
                <option value="false" selected>No</option>
                <option value="true">Yes</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Manually specify Steam proxy</label>
            <select class="form-select" id="use_proxies">
                <option value="false" selected>No</option>
                <option value="true">Yes</option>
            </select>
        </div>
        <!-- Proxy settings -->
        <div class="mb-3" id="proxies_settings" style="display: none;">
            <label class="form-label">Local proxy address</label>
            <input type="text" class="form-control" id="proxies_http" placeholder="HTTP proxy, e.g.: http://127.0.0.1:7890">
            <input type="text" class="form-control mt-2" id="proxies_https"
                placeholder="HTTPS proxy, e.g.: https://127.0.0.1:7890">
        </div>
        <div class="mb-3">
            <label class="form-label">Stop the program immediately after an error</label>
            <select class="form-select" id="no_pause">
                <option value="false" selected>No</option>
                <option value="true">Yes</option>
            </select>
        </div>
        <div class="accordion" id="configAccordion">
            <!-- BUFF Auto Delivery Plugin -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBuffAutoAcceptOffer">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseBuffAutoAcceptOffer" aria-expanded="false"
                        aria-controls="collapseBuffAutoAcceptOffer">
                        BUFF Auto Delivery Plugin Settings
                    </button>
                </h2>
                <div id="collapseBuffAutoAcceptOffer" class="accordion-collapse collapse"
                    aria-labelledby="headingBuffAutoAcceptOffer" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable BUFF auto delivery (accept offers)</label>
                            <select class="form-select" id="buff_auto_accept_offer_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Poll interval -->
                        <div class="mb-3">
                            <label class="form-label">Interval to check for new offers (seconds)</label>
                            <input type="number" class="form-control" id="buff_auto_accept_offer_interval" value="300">
                        </div>
                        <!-- Sell protection -->
                        <div class="mb-3">
                            <label class="form-label">Enable sell protection</label>
                            <select class="form-select" id="buff_auto_accept_offer_sell_protection">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Protection price -->
                        <div class="mb-3">
                            <label class="form-label">Sell protection price (CNY)</label>
                            <input type="number" class="form-control" id="buff_auto_accept_offer_protection_price"
                                value="30">
                        </div>
                        <!-- Protection percentage -->
                        <div class="mb-3">
                            <label class="form-label">Sell protection percentage</label>
                            <input type="number" class="form-control"
                                id="buff_auto_accept_offer_protection_price_percentage" value="0.9" step="0.01">
                        </div>
                        <!-- Sell notification -->
                        <h5>Sell Notification (optional)</h5>
                        <div class="mb-3">
                            <label class="form-label">Notification title</label>
                            <input type="text" class="form-control" id="sell_notification_title"
                                value="Successfully sold {game} item: {item_name} * {sold_count}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notification body</label>
                            <textarea class="form-control" id="sell_notification_body" rows="4">![good_icon]({good_icon})
Game: {game}
Item: {item_name}
BUFF unit price: {buff_price} RMB
Steam unit price (reference): {steam_price} USD
Steam unit price (reference): {steam_price_cny} RMB
![buyer_avatar]({buyer_avatar})
Buyer: {buyer_name}
Order time: {order_time}</textarea>
                        </div>
                        <!-- Notifier servers -->
                        <div class="mb-3">
                            <label class="form-label">Notifier servers (Apprise format, one per line)</label>
                            <textarea class="form-control" id="buff_auto_accept_offer_servers" rows="3"
                                placeholder="e.g.: http://localhost:8080/notify"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BUFF Auto Comment Purchase Price -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBuffAutoComment">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseBuffAutoComment" aria-expanded="false"
                        aria-controls="collapseBuffAutoComment">
                        BUFF Auto Comment Purchase Price Settings
                    </button>
                </h2>
                <div id="collapseBuffAutoComment" class="accordion-collapse collapse"
                    aria-labelledby="headingBuffAutoComment" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable BUFF auto comment purchase price</label>
                            <select class="form-select" id="buff_auto_comment_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Page size -->
                        <div class="mb-3">
                            <label class="form-label">Records per request (history size)</label>
                            <input type="number" class="form-control" id="buff_auto_comment_page_size" value="300">
                        </div>
                    </div>
                </div>
            </div>

            <!-- BUFF Auto Profit Report -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBuffProfitReport">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseBuffProfitReport" aria-expanded="false"
                        aria-controls="collapseBuffProfitReport">
                        BUFF Auto Profit Report Settings
                    </button>
                </h2>
                <div id="collapseBuffProfitReport" class="accordion-collapse collapse"
                    aria-labelledby="headingBuffProfitReport" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable BUFF auto profit calculation</label>
                            <select class="form-select" id="buff_profit_report_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Notifier servers -->
                        <div class="mb-3">
                            <label class="form-label">Notifier servers (Apprise format, one per line)</label>
                            <textarea class="form-control" id="buff_profit_report_servers" rows="3"
                                placeholder="e.g.: http://localhost:8080/notify"></textarea>
                        </div>
                        <!-- Daily report time -->
                        <div class="mb-3">
                            <label class="form-label">Daily report time (24-hour, e.g.: 20:30)</label>
                            <input type="time" class="form-control" id="buff_profit_report_send_report_time"
                                value="20:30">
                        </div>
                    </div>
                </div>
            </div>

            <!-- BUFF Auto Listing -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBuffAutoOnSale">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseBuffAutoOnSale" aria-expanded="false"
                        aria-controls="collapseBuffAutoOnSale">
                        BUFF Auto Listing Settings
                    </button>
                </h2>
                <div id="collapseBuffAutoOnSale" class="accordion-collapse collapse"
                    aria-labelledby="headingBuffAutoOnSale" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable automatic lowest-price listing of all inventory</label>
                            <select class="form-select" id="buff_auto_on_sale_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Force refresh -->
                        <div class="mb-3">
                            <label class="form-label">Force refresh BUFF inventory on each check</label>
                            <select class="form-select" id="buff_auto_on_sale_force_refresh">
                                <option value="true" selected>Yes</option>
                                <option value="false">No</option>
                            </select>
                        </div>
                        <!-- Use wear range price -->
                        <div class="mb-3">
                            <label class="form-label">Use lowest price by wear range</label>
                            <select class="form-select" id="buff_auto_on_sale_use_range_price">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Blacklist hours -->
                        <div class="mb-3">
                            <label class="form-label">Blacklist hours (comma-separated)</label>
                            <input type="text" class="form-control" id="buff_auto_on_sale_blacklist_time"
                                placeholder="e.g.: 1,2,3">
                        </div>
                        <!-- Whitelist hours -->
                        <div class="mb-3">
                            <label class="form-label">Whitelist hours (comma-separated)</label>
                            <input type="text" class="form-control" id="buff_auto_on_sale_whitelist_time"
                                placeholder="e.g.: 8,12,16">
                        </div>
                        <!-- Random chance -->
                        <div class="mb-3">
                            <label class="form-label">Random listing chance (1â€“100)</label>
                            <input type="number" class="form-control" id="buff_auto_on_sale_random_chance" value="100"
                                min="1" max="100">
                        </div>
                        <!-- Description -->
                        <div class="mb-3">
                            <label class="form-label">Listing description</label>
                            <input type="text" class="form-control" id="buff_auto_on_sale_description" placeholder="Optional">
                        </div>
                        <!-- Inventory check interval -->
                        <div class="mb-3">
                            <label class="form-label">Inventory check interval (seconds)</label>
                            <input type="number" class="form-control" id="buff_auto_on_sale_interval" value="1800">
                        </div>
                        <!-- Buy order supply -->
                        <h5>Supply Buy Orders</h5>
                        <div class="mb-3">
                            <label class="form-label">Supply buy orders</label>
                            <select class="form-select" id="buff_auto_on_sale_buy_order_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Only supply to buy orders with auto-accept enabled</label>
                            <select class="form-select" id="buff_auto_on_sale_buy_order_only_auto_accept">
                                <option value="true" selected>Yes</option>
                                <option value="false">No</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Supported payment methods (comma-separated, e.g.: Alipay,WeChat)</label>
                            <input type="text" class="form-control"
                                id="buff_auto_on_sale_buy_order_supported_payment_method" value="Alipay">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Send directly to buy orders if price is below (CNY)</label>
                            <input type="number" class="form-control" id="buff_auto_on_sale_buy_order_min_price"
                                value="5">
                        </div>
                        <!-- On-sale notification -->
                        <h5>Listing Notification (optional)</h5>
                        <div class="mb-3">
                            <label class="form-label">Notification title</label>
                            <input type="text" class="form-control" id="on_sale_notification_title"
                                value="Game {game} successfully listed {sold_count} items">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Notification body</label>
                            <textarea class="form-control" id="on_sale_notification_body" rows="4">Listing details:
{item_list}</textarea>
                        </div>
                    </div>
                </div>
            </div>
            <!-- UUYoupin Auto Delivery -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingUuAutoAcceptOffer">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseUuAutoAcceptOffer" aria-expanded="false"
                        aria-controls="collapseUuAutoAcceptOffer">
                        UUYoupin Auto Delivery Settings
                    </button>
                </h2>
                <div id="collapseUuAutoAcceptOffer" class="accordion-collapse collapse"
                    aria-labelledby="headingUuAutoAcceptOffer" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable UUYoupin auto delivery</label>
                            <select class="form-select" id="uu_auto_accept_offer_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Interval -->
                        <div class="mb-3">
                            <label class="form-label">Interval to check for new offers (seconds)</label>
                            <input type="number" class="form-control" id="uu_auto_accept_offer_interval" value="300">
                        </div>
                    </div>
                </div>
            </div>

            <!-- UUYoupin Auto Lease Listing -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingUuAutoLeaseItem">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseUuAutoLeaseItem" aria-expanded="false"
                        aria-controls="collapseUuAutoLeaseItem">
                        UUYoupin Auto Lease Listing Settings
                    </button>
                </h2>
                <div id="collapseUuAutoLeaseItem" class="accordion-collapse collapse"
                    aria-labelledby="headingUuAutoLeaseItem" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable UUYoupin auto lease listing</label>
                            <select class="form-select" id="uu_auto_lease_item_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Max lease days -->
                        <div class="mb-3">
                            <label class="form-label">Maximum lease duration (days)</label>
                            <input type="number" class="form-control" id="uu_auto_lease_item_lease_max_days" value="60">
                        </div>
                        <!-- Price filter -->
                        <div class="mb-3">
                            <label class="form-label">Do not list items below this price (CNY)</label>
                            <input type="number" class="form-control" id="uu_auto_lease_item_filter_price" value="100">
                        </div>
                        <!-- Daily run time -->
                        <div class="mb-3">
                            <label class="form-label">Daily scheduled run time (24-hour, e.g.: 17:30)</label>
                            <input type="time" class="form-control" id="uu_auto_lease_item_run_time" value="17:30">
                        </div>
                        <!-- Reprice interval -->
                        <div class="mb-3">
                            <label class="form-label">Interval to modify prices (minutes)</label>
                            <input type="number" class="form-control" id="uu_auto_lease_item_interval" value="31">
                        </div>
                        <!-- Excluded item names -->
                        <div class="mb-3">
                            <label class="form-label">List of item names not for lease (one per line)</label>
                            <textarea class="form-control" id="uu_auto_lease_item_filter_name" rows="3"
                                placeholder="e.g.: Item A\nItem B"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- UUYoupin Auto Sell Listing -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingUuAutoSellItem">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseUuAutoSellItem" aria-expanded="false"
                        aria-controls="collapseUuAutoSellItem">
                        UUYoupin Auto Sell Listing Settings
                    </button>
                </h2>
                <div id="collapseUuAutoSellItem" class="accordion-collapse collapse"
                    aria-labelledby="headingUuAutoSellItem" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable UUYoupin auto sell listing</label>
                            <select class="form-select" id="uu_auto_sell_item_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Use take-profit rate -->
                        <div class="mb-3">
                            <label class="form-label">Price using take-profit rate</label>
                            <select class="form-select" id="uu_auto_sell_item_take_profile">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Take-profit ratio -->
                        <div class="mb-3">
                            <label class="form-label">Take-profit ratio</label>
                            <input type="number" class="form-control" id="uu_auto_sell_item_take_profile_ratio"
                                value="0.1" step="0.01">
                        </div>
                        <!-- Daily run time -->
                        <div class="mb-3">
                            <label class="form-label">Daily scheduled run time (24-hour, e.g.: 15:30)</label>
                            <input type="time" class="form-control" id="uu_auto_sell_item_run_time" value="15:30">
                        </div>
                        <!-- Repricing interval -->
                        <div class="mb-3">
                            <label class="form-label">Interval to modify prices (minutes)</label>
                            <input type="number" class="form-control" id="uu_auto_sell_item_interval" value="51">
                        </div>
                        <!-- Items to sell -->
                        <div class="mb-3">
                            <label class="form-label">List of item names to sell (one per line)</label>
                            <textarea class="form-control" id="uu_auto_sell_item_name" rows="3"
                                placeholder="e.g.: Item A\nItem B"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ECOSteam Plugin -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingEcoSteam">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseEcoSteam" aria-expanded="false" aria-controls="collapseEcoSteam">
                        ECOSteam.cn Plugin Settings
                    </button>
                </h2>
                <div id="collapseEcoSteam" class="accordion-collapse collapse" aria-labelledby="headingEcoSteam"
                    data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Info -->
                        <div class="alert alert-info">
                            Please integrate with the open platform in advance. Place the private key in
                            <code>config/rsakey.txt</code>.<br>
                            For how to register for the ECOSteam Open Platform, see the
                            <a
                                href="https://github.com/Steamauto/Steamauto#%E5%A6%82%E4%BD%95%E6%B3%A8%E5%86%8C-ecosteam-%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0---%E8%8A%82%E9%80%89%E8%87%AAecosteam%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"
                                target="_blank">official documentation</a>.
                        </div>
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable ECOSteam plugin</label>
                            <select class="form-select" id="ecosteam_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- partnerId -->
                        <div class="mb-3">
                            <label class="form-label">partnerId (required)</label>
                            <input type="text" class="form-control" id="ecosteam_partnerId"
                                placeholder="Used to log in to the ECOSteam platform">
                        </div>
                        <!-- Auto accept offers -->
                        <h5>Auto Accept Offers</h5>
                        <div class="mb-3">
                            <label class="form-label">Interval to check for new offers (seconds)</label>
                            <input type="number" class="form-control" id="ecosteam_auto_accept_offer_interval"
                                value="30">
                        </div>
                        <!-- Auto sync sell shelf -->
                        <h5>Auto Sync Listed Items</h5>
                        <div class="mb-3">
                            <label class="form-label">Enable auto-sync of listed items across platforms</label>
                            <select class="form-select" id="ecosteam_auto_sync_sell_shelf_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Main platform -->
                        <div class="mb-3">
                            <label class="form-label">Main platform (eco/buff/uu)</label>
                            <input type="text" class="form-control" id="ecosteam_auto_sync_sell_shelf_main_platform"
                                value="eco">
                        </div>
                        <!-- Enabled platforms -->
                        <div class="mb-3">
                            <label class="form-label">Enabled platforms (comma-separated, e.g.: buff,uu)</label>
                            <input type="text" class="form-control" id="ecosteam_auto_sync_sell_shelf_enabled_platforms"
                                placeholder="Allowed values: buff, uu">
                        </div>
                        <!-- Ratio -->
                        <div class="mb-3">
                            <label class="form-label">Price ratio per platform (JSON)</label>
                            <textarea class="form-control" id="ecosteam_auto_sync_sell_shelf_ratio" rows="3"
                                placeholder='e.g.: {"eco": 1, "buff": 1, "uu": 1}'>{ "eco": 1, "buff": 1, "uu": 1 }</textarea>
                        </div>
                        <!-- Sync interval -->
                        <div class="mb-3">
                            <label class="form-label">Sync interval (seconds)</label>
                            <input type="number" class="form-control" id="ecosteam_sync_interval" value="60">
                        </div>
                        <!-- QPS -->
                        <div class="mb-3">
                            <label class="form-label">Maximum requests per second (QPS)</label>
                            <input type="number" class="form-control" id="ecosteam_qps" value="10">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Steam Auto Accept Gift Offers -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingSteamAutoAcceptOffer">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseSteamAutoAcceptOffer" aria-expanded="false"
                        aria-controls="collapseSteamAutoAcceptOffer">
                        Steam Auto Accept Gift Offers Settings
                    </button>
                </h2>
                <div id="collapseSteamAutoAcceptOffer" class="accordion-collapse collapse"
                    aria-labelledby="headingSteamAutoAcceptOffer" data-bs-parent="#configAccordion">
                    <div class="accordion-body">
                        <!-- Enable -->
                        <div class="mb-3">
                            <label class="form-label">Enable automatic acceptance of Steam gift offers</label>
                            <select class="form-select" id="steam_auto_accept_offer_enable">
                                <option value="false" selected>No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                        <!-- Interval -->
                        <div class="mb-3">
                            <label class="form-label">Interval to check the offer list (seconds)</label>
                            <input type="number" class="form-control" id="steam_auto_accept_offer_interval" value="300">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- Log settings -->
        <h2 class="mt-5">Log Settings</h2>
        <div class="mb-3">
            <label class="form-label">Log level</label>
            <select class="form-select" id="log_level">
                <option value="debug">Debug</option>
                <option value="info">Info</option>
                <option value="warning">Warning</option>
                <option value="error">Error</option>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Local log retention days</label>
            <input type="number" class="form-control" id="log_retention_days" value="7">
        </div>

        <!-- Generate config button -->
        <div class="d-grid gap-2 mt-5">
            <button class="btn btn-primary btn-lg" type="button" id="generateConfig">Generate Config File</button>
        </div>

        <!-- Output area -->
        <div class="mt-5">
            <h3>Generated <code>config.json5</code> content:</h3>
            <pre id="configOutput" class="bg-light p-3"></pre>
            <button class="btn btn-success mt-2" id="copyConfig">Copy to Clipboard</button>
            <button class="btn btn-secondary mt-2" id="downloadConfig">Download <code>config.json5</code></button>
        </div>
        <div class="mb-5"></div>
    </div>

    <!-- Include Bootstrap JS + Popper -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"></script>
    <!-- Main script -->
    <script>
        // Dynamically show/hide proxy settings
        document.getElementById('use_proxies').addEventListener('change', (event) => {
            if (event.target.value === 'true') {
                document.getElementById('proxies_settings').style.display = 'block';
            } else {
                document.getElementById('proxies_settings').style.display = 'none';
            }
        });

        // Generate config file
        document.getElementById('generateConfig').addEventListener('click', () => {
            const config = {};

            // General settings
            config.steam_login_ignore_ssl_error = JSON.parse(document.getElementById('steam_login_ignore_ssl_error').value);
            config.steam_local_accelerate = JSON.parse(document.getElementById('steam_local_accelerate').value);
            config.use_proxies = JSON.parse(document.getElementById('use_proxies').value);
            if (config.use_proxies) {
                config.proxies = {
                    http: document.getElementById('proxies_http').value,
                    https: document.getElementById('proxies_https').value
                };
            }
            config.no_pause = JSON.parse(document.getElementById('no_pause').value);

            // BUFF auto delivery
            config.buff_auto_accept_offer = {
                enable: JSON.parse(document.getElementById('buff_auto_accept_offer_enable').value),
                interval: parseInt(document.getElementById('buff_auto_accept_offer_interval').value),
                sell_protection: JSON.parse(document.getElementById('buff_auto_accept_offer_sell_protection').value),
                protection_price: parseFloat(document.getElementById('buff_auto_accept_offer_protection_price').value),
                protection_price_percentage: parseFloat(document.getElementById('buff_auto_accept_offer_protection_price_percentage').value),
                sell_notification: {
                    title: document.getElementById('sell_notification_title').value,
                    body: document.getElementById('sell_notification_body').value
                },
                servers: document.getElementById('buff_auto_accept_offer_servers').value.split('\n').filter(line => line.trim() !== '')
            };

            // BUFF auto comment
            config.buff_auto_comment = {
                enable: JSON.parse(document.getElementById('buff_auto_comment_enable').value),
                page_size: parseInt(document.getElementById('buff_auto_comment_page_size').value)
            };

            // BUFF profit report
            config.buff_profit_report = {
                enable: JSON.parse(document.getElementById('buff_profit_report_enable').value),
                servers: document.getElementById('buff_profit_report_servers').value.split('\n').filter(line => line.trim() !== ''),
                send_report_time: document.getElementById('buff_profit_report_send_report_time').value
            };

            // BUFF auto listing
            config.buff_auto_on_sale = {
                enable: JSON.parse(document.getElementById('buff_auto_on_sale_enable').value),
                force_refresh: JSON.parse(document.getElementById('buff_auto_on_sale_force_refresh').value),
                use_range_price: JSON.parse(document.getElementById('buff_auto_on_sale_use_range_price').value),
                blacklist_time: document.getElementById('buff_auto_on_sale_blacklist_time').value.split(',').map(item => parseInt(item.trim())).filter(item => !isNaN(item)),
                whitelist_time: document.getElementById('buff_auto_on_sale_whitelist_time').value.split(',').map(item => parseInt(item.trim())).filter(item => !isNaN(item)),
                random_chance: parseInt(document.getElementById('buff_auto_on_sale_random_chance').value),
                description: document.getElementById('buff_auto_on_sale_description').value,
                interval: parseInt(document.getElementById('buff_auto_on_sale_interval').value),
                buy_order: {
                    enable: JSON.parse(document.getElementById('buff_auto_on_sale_buy_order_enable').value),
                    only_auto_accept: JSON.parse(document.getElementById('buff_auto_on_sale_buy_order_only_auto_accept').value),
                    supported_payment_method: document.getElementById('buff_auto_on_sale_buy_order_supported_payment_method').value.split(',').map(item => item.trim()).filter(item => item !== ''),
                    min_price: parseFloat(document.getElementById('buff_auto_on_sale_buy_order_min_price').value)
                },
                on_sale_notification: {
                    title: document.getElementById('on_sale_notification_title').value,
                    body: document.getElementById('on_sale_notification_body').value
                }
            };

            // Steam auto accept gift offers
            config.steam_auto_accept_offer = {
                enable: JSON.parse(document.getElementById('steam_auto_accept_offer_enable').value),
                interval: parseInt(document.getElementById('steam_auto_accept_offer_interval').value)
            };

            // UUYoupin auto delivery
            config.uu_auto_accept_offer = {
                enable: JSON.parse(document.getElementById('uu_auto_accept_offer_enable').value),
                interval: parseInt(document.getElementById('uu_auto_accept_offer_interval').value)
            };

            // UUYoupin auto lease listing
            config.uu_auto_lease_item = {
                enable: JSON.parse(document.getElementById('uu_auto_lease_item_enable').value),
                lease_max_days: parseInt(document.getElementById('uu_auto_lease_item_lease_max_days').value),
                filter_price: parseFloat(document.getElementById('uu_auto_lease_item_filter_price').value),
                run_time: document.getElementById('uu_auto_lease_item_run_time').value,
                interval: parseInt(document.getElementById('uu_auto_lease_item_interval').value),
                filter_name: document.getElementById('uu_auto_lease_item_filter_name').value.split('\n').map(item => item.trim()).filter(item => item !== '')
            };

            // UUYoupin auto sell listing
            config.uu_auto_sell_item = {
                enable: JSON.parse(document.getElementById('uu_auto_sell_item_enable').value),
                take_profile: JSON.parse(document.getElementById('uu_auto_sell_item_take_profile').value),
                take_profile_ratio: parseFloat(document.getElementById('uu_auto_sell_item_take_profile_ratio').value),
                run_time: document.getElementById('uu_auto_sell_item_run_time').value,
                interval: parseInt(document.getElementById('uu_auto_sell_item_interval').value),
                name: document.getElementById('uu_auto_sell_item_name').value.split('\n').map(item => item.trim()).filter(item => item !== '')
            };

            // ecosteam plugin
            config.ecosteam = {
                enable: JSON.parse(document.getElementById('ecosteam_enable').value),
                partnerId: document.getElementById('ecosteam_partnerId').value,
                auto_accept_offer: {
                    interval: parseInt(document.getElementById('ecosteam_auto_accept_offer_interval').value)
                },
                auto_sync_sell_shelf: {
                    enable: JSON.parse(document.getElementById('ecosteam_auto_sync_sell_shelf_enable').value),
                    main_platform: document.getElementById('ecosteam_auto_sync_sell_shelf_main_platform').value,
                    enabled_platforms: document.getElementById('ecosteam_auto_sync_sell_shelf_enabled_platforms').value.split(',').map(item => item.trim()).filter(item => item !== ''),
                    ratio: JSON.parse(document.getElementById('ecosteam_auto_sync_sell_shelf_ratio').value)
                },
                sync_interval: parseInt(document.getElementById('ecosteam_sync_interval').value),
                qps: parseInt(document.getElementById('ecosteam_qps').value)
            };

            // Log settings
            config.log_level = document.getElementById('log_level').value;
            config.log_retention_days = parseInt(document.getElementById('log_retention_days').value);

            // Generate JSON string
            const configString = JSON.stringify(config, null, 2);

            // Show on page
            document.getElementById('configOutput').textContent = configString;
        });


        // Copy to clipboard
        document.getElementById('copyConfig').addEventListener('click', () => {
            const configText = document.getElementById('configOutput').textContent;
            navigator.clipboard.writeText(configText).then(() => {
                alert('Configuration copied to clipboard!');
            });
        });

        // Download config.json5
        document.getElementById('downloadConfig').addEventListener('click', () => {
            const configText = document.getElementById('configOutput').textContent;
            const blob = new Blob([configText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'config.json5';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
    </script>
</body>
<footer class="footer mt-auto py-3 bg-dark text-white">
    <div class="container text-center">
        <a href="https://github.com/Steamauto/Steamauto" target="_blank">
            Edit on GitHub
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github"
                viewBox="0 0 16 16">
                <path
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
            </svg>
        </a>
    </div>
</footer>

</html>
